<script>
    const initialLoanAmount = 1000;

    // Load payments and remaining balance from local storage
    const payments = JSON.parse(localStorage.getItem('payments')) || [];
    let remainingBalance = parseFloat(localStorage.getItem('remainingBalance')) || initialLoanAmount;

    // Display initial data
    document.getElementById('remaining-balance').textContent = remainingBalance.toFixed(2);
    displayPayments();

    function addPayment() {
        const amount = parseFloat(document.getElementById('payment-amount').value);
        const date = document.getElementById('payment-date').value;

        if (!amount || !date) {
            alert('Please enter a valid amount and date.');
            return;
        }

        // Update payments and remaining balance
        payments.push({ amount, date });
        remainingBalance -= amount;

        // Save to local storage
        localStorage.setItem('payments', JSON.stringify(payments));
        localStorage.setItem('remainingBalance', remainingBalance);

        // Update display
        document.getElementById('remaining-balance').textContent = remainingBalance.toFixed(2);
        displayPayments();

        // Clear input fields
        document.getElementById('payment-amount').value = '';
        document.getElementById('payment-date').value = '';
    }

    function displayPayments() {
        const paymentList = document.getElementById('payment-list');
        paymentList.innerHTML = '';

        payments.forEach(payment => {
            const entry = document.createElement('div');
            entry.className = 'payment-entry';
            entry.innerHTML = `<span>${payment.date}</span><span>â‚¬${payment.amount.toFixed(2)}</span>`;
            paymentList.appendChild(entry);
        });
    }
</script>
